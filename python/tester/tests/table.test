test empty table
    t = []
    print(t["something"])
expect
    nil
end

test table operations
    t = ["a": 10, "b": "thing"]
    print(t["b"])
    print(t["a"])
    t["c"] = 20
    t["a"] = 30
    print(t["c"])
    print(t["a"])
expect
    thing
    10
    20
    30
end

test nested tables
    t1 = ["a": 10, "t2": ["b": 1000]]
    print(t1["t2"]["b"])
    print(t1["t2"]["b"] + t1["a"])
expect
    1000
    1010
end

test keys of different types
    table = [5: "hello", "string key": {print("I'm a function")}, 10 * 3: ["inner string": "inner value"]]
    print(table[5])
    table["string key"]()
    print(table[3 * 10]["inner string"])
expect
    hello
    I'm a function
    inner value
end

test table as plain array
    array = ["we", "are", "items", {print("And I'm a function!")}]
    length = array.length()
    i = 0
    while i < length - 1 {  # Intentionally quiting before the last item
        print(array[i])
        i = i + 1
    }
    last_element = array[length - 1]
    last_element()
expect
    we
    are
    items
    And I'm a function!
end

test table as mixed array and dictionary
    table = ["we", "are", "some key": "items", "in", 52: "table!"]
    print(table[0])
    print(table[1])
    print(table[2])
    print(table["some key"])
    print(table[52])
expect
    we
    are
    in
    items
    table!
end